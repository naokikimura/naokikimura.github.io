<!DOCTYPE HTML>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>モックアップ</title>
  <style type="text/css">
    #result {
      display: block;
      width: 100%;
      height: 50em;
    }
  </style>
  <script type="text/javascript">
    window.onload = function () {
      var button = document.getElementById("search");
      button.addEventListener("click", function (e) {
          console.log("search");
          var url = "https://api.ekispert.jp/v1/json/search/course/light?key=LE_aYYhp8kwYt3Yb" + "&from=" + encodeURIComponent(document.getElementById("from").value) + "&to=" + encodeURIComponent(document.getElementById("to").value);
          var xhr = new XMLHttpRequest();
          xhr.open('GET', url, true);
          xhr.responseType = "json";
          xhr.onload = function(e) {
            if (this.status == 200) {
              console.log(this.response);
              console.log(this.response.ResultSet.ResourceURI);
              var iframe = document.getElementById("result");
              iframe.src = this.response.ResultSet.ResourceURI;
            }
          };
          xhr.send();
      }, false);
    }
  </script>
</head>
<body>
  <form action="">
    <label for="from">出発地</label><input id="from" name="from" type="text" />
    <label for="to">目的地</label><input id="to" name="to" type="text" />
    <button type="button" id="search">経路検索</button>
    <iframe id="result" src="" frameborder="0"></iframe>
  </form>
</body>
</html>
